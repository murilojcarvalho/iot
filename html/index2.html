<!DOCTYPE html>
<html>
<title>IoT</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body, h1,h2,h3,h4,h5,h6 {font-family: "Montserrat", sans-serif}
.w3-row-padding img {margin-bottom: 12px}
/* Set the width of the sidebar to 120px */
.w3-sidebar {width: 120px;background: #FFF;}
/* Add a left margin to the "page content" that matches the width of the sidebar (120px) */
#main {margin-left: 120px}
/* Remove margins from "page content" on small screens */
@media only screen and (max-width: 600px) {#main {margin-left: 0}}
</style>
<body class="w3-white">

<!-- Icon Bar (Sidebar - hidden on small screens) -->
<nav class="w3-sidebar w3-bar-block w3-small w3-hide-small w3-center">
  <!-- Avatar image in top left corner -->
  <a href="https://eletronica.sp.senai.br/">
    <img src="./logo_SENAI.png" style="width:100%">
  </a>
  <a href="#" class="w3-bar-item w3-button w3-padding-large w3-white">
    <i class="fa fa-home w3-xxlarge"></i>
    <p>HOME</p>
  </a>
  <a href="#temperatura" class="w3-bar-item w3-button w3-padding-large w3-white">
    <i class="fa fa-thermometer-three-quarters w3-xxlarge"></i>
    <p>TEMPERATURA</p>
  </a>
  <a href="#umidade" class="w3-bar-item w3-button w3-padding-large w3-white">
    <i class="fa fa-tint w3-xxlarge"></i>
    <p>UMIDADE</p>
  </a>
  <a href="#diagrama_sistema" class="w3-bar-item w3-button w3-padding-large w3-white">
    <i class="fa fa-microchip w3-xxlarge"></i>
    <p>DIAGRAMA DO SISTEMA</p>
  </a>
  <a href="#sobre" class="w3-bar-item w3-button w3-padding-large w3-white">
    <i class="fa fa-info-circle w3-xxlarge"></i>
    <p>SOBRE</p>
  </a>
</nav>

<!-- Navbar on small screens (Hidden on medium and large screens) -->
<div class="w3-top w3-hide-large w3-hide-medium" id="myNavbar">
  <div class="w3-bar w3-white w3-opacity w3-hover-opacity-off w3-center w3-small">
    <a href="#" class="w3-bar-item w3-button" style="width:25% !important">HOME</a>
    <a href="#temperatura" class="w3-bar-item w3-button" style="width:25% !important">TEMP</a>
    <a href="#umidade" class="w3-bar-item w3-button" style="width:25% !important">UMID</a>
    <a href="#diagrama_sistema" class="w3-bar-item w3-button" style="width:25% !important">DIAGRAMA</a>
  </div>
</div>

<!-- Page Content -->
<div class="w3-padding-large" id="main">
  <!-- Header/Home -->
  <header class="w3-container w3-padding-32 w3-center w3-white" id="home">
    <br><br>
    <h1 class="w3-jumbo">IoT: Trabalho Final</h1>
    <img src="./iot-capa.jpg" alt="IoT" class="w3-image" width="992" height="1108">
  </header>

  <!-- Temperatura Section -->
  <div id="temperatura" class="w3-panel w3-white w3-padding-16">
    <br><br><br><br>
    <h3 class="w3-center">Temperatura</h3>
    <div class="w3-container" id="txtTemperatura"></div>
  </div>

  <!-- Umidade Section -->
  <div id="umidade" class="w3-panel w3-white w3-padding-16">
    <br><br><br><br>
    <h3 class="w3-center">Umidade</h3>
    <div class="w3-container" id="txtUmidade"></div>
  </div>

  <!-- Diagrama do Sistema Section -->
  <div id="diagrama_sistema" class="w3-panel w3-white w3-padding-16">
    <br><br><br><br>
    <h3 class="w3-center">Diagrama do Sistema</h3>
    <div class="w3-content" style="max-width:800px">
      <a href="tryw3css_templates_band.htm" target="_blank"  title="Band Demo"><img src="layout.png" style="width:98%;margin:20px 0" alt="IoT"></a><br>
    </div>
  </div>

  <!-- Diagrama do Sistema Section -->
  <div id="sobre" class="w3-panel w3-white w3-padding-16">
    <br><br><br><br>
  <h3 class="w3-center">Sobre</h3>
    <div class="w3-content" style="max-width:800px" align="justify">
      <p>O objetivo deste trabalho é implementar a leitura de um sensor de temperatura e umidade, utilizando recursos de hardware e software acessíveis e bastante difundidos entre profissionais de Sistemas Embarcados e IoT. O sensor de temperatura será um DHT11 conectado ao SoC ESP32. Os dados da leitura do sensor serão transmitidos via MQTT para uma aplicação em Python, que será responsável pelo armazenamento das informações em um banco de dados MySQL. O usuário irá interagir com o sistema através de uma página HTML, onde ficarão acessíveis as informações de umidade e temperatura ambiente.</p>
    </div>
  </div>
  
    <!-- Footer -->
  <footer class="w3-content w3-padding-64 w3-text-grey w3-center">
    <p>Desenvolvido por: Murilo José de Carvalho + Gleydson Henrique de Alencar Santos.
    <br><br>
    <a href="https://github.com/murilojcarvalho/iot.git"><i class="fa fa-github" style="font-size:48px;color"></i></p>
  <!-- End footer -->
  </footer>

<!-- END PAGE CONTENT -->
</div>



<script>
// Open and close the sidebar on medium and small screens
function w3_open() {
  document.getElementById("mySidebar").style.display = "block";
  document.getElementById("myOverlay").style.display = "block";
}

function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
  document.getElementById("myOverlay").style.display = "none";
}

// Change style of top container on scroll
window.onscroll = function() {myFunction()};
function myFunction() {
  if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {
    document.getElementById("myTop").classList.add("w3-card-4", "w3-animate-opacity");
    document.getElementById("myIntro").classList.add("w3-show-inline-block");
  } else {
    document.getElementById("myIntro").classList.remove("w3-show-inline-block");
    document.getElementById("myTop").classList.remove("w3-card-4", "w3-animate-opacity");
  }
}

// Accordions
function myAccordion(id) {
  var x = document.getElementById(id);
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    x.previousElementSibling.className += " w3-theme";
  } else { 
    x.className = x.className.replace("w3-show", "");
    x.previousElementSibling.className = 
    x.previousElementSibling.className.replace(" w3-theme", "");
  }
}

setInterval("showSensor()",1000);
function showSensor() {
  var xhttp;  

  xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("txtTemperatura").innerHTML = this.responseText;
    }
  };
  xhttp.open("GET", "read_db_temperatura.php", true);
  xhttp.send();

  xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("txtUmidade").innerHTML = this.responseText;
    }
  };
  xhttp.open("GET", "read_db_umidade.php", true);
  xhttp.send();
}

</script>

</body>
</html>
